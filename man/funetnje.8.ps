%!PS-Adobe-2.1
%%Creator: groff version 1.00
%%DocumentFonts: Courier Times-Italic Times-Bold Times-Roman
%%DocumentSuppliedFonts:
%%DocumentNeededFonts: Courier Times-Italic Times-Bold Times-Roman
%%Pages: 6
%%EndComments
/grops 100 dict def grops begin
% If you add definitions here, be sure to check that MAX_PROLOGUE_DEFS
% in ps.c is large enough.

% The ASCII code of the space character.
/SC 32 def

/A /show load def
/B { 0 SC 3 -1 roll widthshow } bind def
/C { 0 exch ashow } bind def
/D { 0 exch 0 SC 5 2 roll awidthshow } bind def
/E { 0 rmoveto show } bind def
/F { 0 rmoveto 0 SC 3 -1 roll widthshow } bind def
/G { 0 rmoveto 0 exch ashow } bind def
/H { 0 rmoveto 0 exch 0 SC 5 2 roll awidthshow } bind def
/I { 0 exch rmoveto show } bind def
/J { 0 exch rmoveto 0 SC 3 -1 roll widthshow } bind def
/K { 0 exch rmoveto 0 exch ashow } bind def
/L { 0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow } bind def
/M { rmoveto show } bind def
/N { rmoveto 0 SC 3 -1 roll widthshow } bind def
/O { rmoveto 0 exch ashow } bind def
/P { rmoveto 0 exch 0 SC 5 2 roll awidthshow } bind def
/Q { moveto show } bind def 
/R { moveto 0 SC 3 -1 roll widthshow } bind def
/S { moveto 0 exch ashow } bind def
/T { moveto 0 exch 0 SC 5 2 roll awidthshow } bind def

% name size font SF -

/SF {
	findfont exch
	[ exch dup 0 exch 0 exch neg 0 0 ] makefont
	dup setfont
	[ exch /setfont cvx ] cvx bind def
} bind def

% name a c d font MF

/MF {
	findfont
	[ 5 2 roll
	0 3 1 roll % b
	neg 0 0 ] makefont
	dup setfont
	[ exch /setfont cvx ] cvx bind def
} bind def

	
% BP -

/BP {
	/level0 save def
	1 setlinecap
	1 setlinejoin
	72 RES div dup scale
	LS {
		90 rotate
	} {
		0 PL translate
	} ifelse
	1 -1 scale
} bind def

/EP {
	level0 restore
	showpage
} bind def


% centerx centery radius startangle endangle DA -

/DA {
	newpath arcn stroke
} bind def

% x y SN - x' y'
% round a position to nearest (pixel + (.25,.25))

/SN {
	transform 
	.25 sub exch .25 sub exch
	round .25 add exch round .25 add exch
	itransform
} bind def
	
% endx endy startx starty DL -
% we round the endpoints of the line, so that parallel horizontal
% and vertical lines will appear even

/DL {
	SN
	moveto
	SN
	lineto stroke
} bind def

% centerx centery radius DC -

/DC {
	newpath 0 360 arc closepath
} bind def


/TM matrix def

%  width height centerx centery DE -

/DE {
	TM currentmatrix pop
	translate scale newpath 0 0 .5 0 360 arc closepath
	TM setmatrix
} bind def

% these are for splines

/RC /rcurveto load def
/RL /rlineto load def
/ST /stroke load def
/MT /moveto load def
/CL /closepath load def

% fill the last path

% amount FL -

/FL {
	currentgray exch setgray fill setgray
} bind def

% fill with the ``current color''

/BL /fill load def

/LW /setlinewidth load def
% new_font_name encoding_vector old_font_name RE -

/RE {
	findfont
	dup maxlength dict begin
	{
		1 index /FID ne { def } { pop pop } ifelse
	} forall
	/Encoding exch def
	dup /FontName exch def
	currentdict end definefont pop
} bind def

% hpos vpos EBEGIN -

/EBEGIN {
	moveto
	DEFS begin
} bind def

/EEND /end load def

% llx lly newwid wid newht ht newllx newlly -

/PICTURE {
	translate
	div 3 1 roll div exch scale
	neg exch neg exch translate
	% set the graphics state to default values
	0 setgray
	0 setlinecap
	1 setlinewidth
	0 setlinejoin
	10 setmiterlimit
	[] 0 setdash
	newpath
} bind def
/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end end
%%IncludeFont: Courier
%%IncludeFont: Times-Italic
%%IncludeFont: Times-Bold
%%IncludeFont: Times-Roman
grops begin/#copies 1 def/RES 72 def/PL 841.89 def/LS false def/ENC0[
/asciicircum/asciitilde/Scaron/Zcaron/scaron/zcaron/Ydieresis/trademark/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/space/exclam/quotedbl/numbersign
/dollar/percent/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma
/hyphen/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O/P/Q/R/S
/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex/underscore
/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y/z/braceleft/bar
/braceright/tilde/.notdef/quotesinglbase/guillemotleft/guillemotright/bullet
/florin/fraction/perthousand/dagger/daggerdbl/endash/emdash/ff/fi/fl/ffi/ffl
/dotlessi/dotlessj/grave/hungarumlaut/dotaccent/breve/caron/ring/ogonek
/quotedblleft/quotedblright/oe/lslash/quotedblbase/OE/Lslash/.notdef/exclamdown
/cent/sterling/currency/yen/brokenbar/section/dieresis/copyright/ordfeminine
/guilsinglleft/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters/questiondown
/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE/Ccedilla/Egrave/Eacute
/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex/Idieresis/Eth/Ntilde/Ograve
/Oacute/Ocircumflex/Otilde/Odieresis/multiply/Oslash/Ugrave/Uacute/Ucircumflex
/Udieresis/Yacute/Thorn/germandbls/agrave/aacute/acircumflex/atilde/adieresis
/aring/ae/ccedilla/egrave/eacute/ecircumflex/edieresis/igrave/iacute
/icircumflex/idieresis/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis
/divide/oslash/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Courier@0 ENC0/Courier RE/Times-Italic@0 ENC0/Times-Italic RE/Times-Bold@0
ENC0/Times-Bold RE/Times-Roman@0 ENC0/Times-Roman RE
%%EndProlog
%%Page: 1 1
BP/F0 10/Times-Roman@0 SF(FUNET)72 48 Q(-NJE on UNIX\(8\))-.92 E(FUNET)436.5 48
Q(-NJE on UNIX\(8\))-.92 E/F1 9/Times-Bold@0 SF(NAME)72 84 Q F0
(funetnje \255 Bitnet NJE server on UNIX)108 96 Q F1(SYNOPSIS)72 112.8 Q/F2 10
/Times-Italic@0 SF(funetnje)108 124.8 Q F0([)2.5 E F2(loglevel).09 E F0 2.5(][)
.48 G F2(debug\215ag)187.79 124.8 Q F0(]).21 E F1(DESCRIPTION)72 141.6 Q F2
(funetnje)108 153.6 Q F0 .278(is name for main program which does BITNET)2.779
F(-II/VMNET)-.92 E .278(-compatible communication using IBM)-.92 F
(developed NJE protocol.)108 165.6 Q F2(loglevel)108 182.4 Q F0 .269(is defaul\
ted from con\214guration \214le \(see below\), but can be given at startup too\
: 2..5 are supported,)2.768 F(and usually not needed.)108 194.4 Q F2
(`debug\215ag')108 211.2 Q F0 .934(is used when)3.434 F F2(funetnje)3.434 E F0
.933(is wanted to stay connected with controlling terminal for some debug-)
3.434 F .371(ging purposes.)108 223.2 R .371(Default for program is to detach \
itself from controlling terminal and then to continue with-)5.371 F
(out connection anywhere.)108 235.2 Q(\(Usually /dev/console)5 E
(gets connection, but that is for output only)5 E(.\))-.65 E -1.11(Va)108 252 S
1.687(lue of)1.11 F F2(`debug\215ag')4.187 E F0 1.687
(is any non-void text or character)4.187 F 6.687(.W)-.55 G 1.687(hen ar)353.963
252 R 1.687(gc of program exceeds 2, that full\214lls)-.18 F F2(`debug\215ag')
108 264 Q F0(.)A(Location of)108 280.8 Q/F3 10/Times-Bold@0 SF
(con\214guration \214le)2.5 E F0(is usually)2.5 E F2(/etc/funetnje.cf)2.5 E F0
(\(It is de\214ned in)2.5 E F2(consts.h)2.5 E F0(source \214le.\))2.5 E(Sample)
108 297.6 Q F3(con\214guration \214le)2.5 E F0(:)A/F4 10/Courier@0 SF(*)144
314.4 Q 42(*C)144 326.4 S(onfiguration file for FUNET-NJE program)198 326.4 Q
(*)144 338.4 Q 6(*B)144 350.4 S(ITNET name of node:)162 350.4 Q 66
(NAME FINFILES)144 362.4 R 6(*M)144 374.4 S 6(yI)162 374.4 S
(nternet view of things)180 374.4 Q 30(*IPADDRESS nic.funet.fi)144 386.4 R 36
(IPADDRESS 128.214.6.100)144 398.4 R 6(*D)144 410.4 S
(irectory for in & outbound traffics)162 410.4 Q 6(*P)144 422.4 S
(rotection 2775 \(or 2770\), group "huji")162 422.4 Q 60
(QUEUE /usr/spool/bitnet)144 434.4 R 6(*A)144 446.4 S
(F_UNIX "command mailbox" -channel.)162 446.4 Q 30
(CMDMAILBOX /usr/spool/bitnet/.cmdpipe)144 458.4 R 6(*A)144 470.4 S
(F_INET "command mailbox" -host \(IP address!\))162 470.4 Q 24
(*CMDMAILBOX 123.45.67.89)144 482.4 R 6(*L)144 494.4 S(ogging file)162 494.4 Q
72(LOG /usr/adm/bitnet.log)144 506.4 R 6(*O)144 518.4 S
(ptional RSCSv1 style accounting log.)162 518.4 Q(Needed only on)390 518.4 Q 6
(*i)144 530.4 S(nternational EARN nodes, though..)162 530.4 Q 36
(*RSCSACCT /var/log/bitacct)144 542.4 R 6(*t)144 554.4 S
(his table is a binary file, and generated with)162 554.4 Q(*)144 566.4 Q F3
(njer)6 E(outes)-.18 E F0(\(8\))A F4(program)6 E 60
(TABLE /usr/local/lib/huji/nje.routes)144 578.4 R 6(*E)144 590.4 S
(BCDIC<->ASCII tables, \(optional\), see)162 590.4 Q F3(ebcdictbl)6 E F0(\(5\))
A F4 30(*EBCDICTBL /usr/local/lib/huji/ebcdictbl)144 602.4 R 6(*S)144 614.4 S
(end information of wierd happenings to:)162 614.4 Q 54(INFORM MEA@FINFILES)144
626.4 R 6(*F)144 638.4 S(ile containing user exits for files)162 638.4 Q 36
(FILEEXITS /usr/local/lib/huji/file-exit.cf)144 650.4 R 6(*F)144 662.4 S
(ile containing user exits for messages \(unimplemented\))162 662.4 Q 42
(MSGEXITS /usr/local/lib/huji/msg-exit.cf)144 674.4 R 6(*L)144 686.4 S
(ogging Level \(smaller value, less logs\))162 686.4 Q 6(LLEVEL 2)144 698.4 R 6
(*S)144 710.4 S(ystem-wide default value for FORM.)162 710.4 Q 48
(DEFFORM STANDARD)144 722.4 R F0(1)535 768 Q EP
%%Page: 2 2
BP/F0 10/Times-Roman@0 SF(FUNET)72 48 Q(-NJE on UNIX\(8\))-.92 E(FUNET)436.5 48
Q(-NJE on UNIX\(8\))-.92 E/F1 10/Courier@0 SF 6(*D)144 84 S
(efault route when routing table isn't complete for)162 84 Q 6(*s)144 96 S
(ome reason.)162 96 Q 12(*DEFAULT-ROUTE FIGBOX)144 108 R 6(*L)144 120 S
(INE, line number, remote node name)162 120 Q(LINE 0 FIGBOX)144 132 Q 6(*T)150
144 S(YPE UNIX_TCP \(only available\))168 144 Q 60(TYPE UNIX_TCP)150 156 R 6
(*B)150 168 S(UFSIZE of single NJE transaction)168 168 Q 42(BUFSIZE 1024)150
180 R 6(*T)150 192 S(IMEOUT of something odd, 3 works well.)168 192 Q 42
(TIMEOUT 3)150 204 R 6(*I)150 216 S
(PPORT is usually fixed 175, unless opposite can't)168 216 Q 54(*m)150 228 S
(anage it \(which is true with VMS UCX + JNET)216 228 Q 54(*s)150 240 S
(ystems\))216 240 Q 48(IPPORT 500)150 252 R 6(*T)150 264 S
(CPNAME gives opposite end IP address \(numeric form)168 264 Q 54(*i)150 276 S
6(sf)216 276 S(astest to resolve\))234 276 Q 6(*T)150 288 S 36
(CPNAME figbox.funet.fi)168 288 R 42(TCPNAME 128.214.6.7)150 300 R 6(*T)150 312
S(CP-SIZE tells how much can be lumped into single TCP)168 312 Q 60(*b)150 324
S(lock to be sent out.)222 324 Q 36(TCP-SIZE 8192)150 336 R 6(*M)150 348 S
(AX-STREAMS gives the number of outgoing streams that can)168 348 Q 78(*b)150
360 S 6(eu)240 360 S(sed against opposite.)258 360 Q(Real IBM takes 7.)396 360
Q 18(MAX-STREAMS 1)150 372 R 6(*D)150 384 S
(efine another link to an IBM system)168 384 Q(LINE 1)144 396 Q(SEARN)192 396 Q
60(TYPE UNIX_TCP)150 408 R 42(BUFSIZE 1024)150 420 R 42(TIMEOUT 3)150 432 R 48
(IPPORT 175)150 444 R 36(*TCPNAME searn.sunet.se)150 456 R 42
(TCPNAME 192.36.125.4)150 468 R 36(TCP-SIZE 8192)150 480 R 24(MAX-STREAMS 7)150
492 R 6(*D)150 504 S(efine a link to another HUJINJE/FUNETNJE system)168 504 Q
(LINE 1)144 516 Q(ALIJKU65)192 516 Q 60(TYPE UNIX_TCP)150 528 R 42
(BUFSIZE 1024)150 540 R 42(TIMEOUT 3)150 552 R 48(IPPORT 175)150 564 R 36
(*TCPNAME alijku65.edvz.uni-linz.ac.at)150 576 R 42(TCPNAME 140.78.3.34)150 588
R 36(TCP-SIZE 8192)150 600 R 24(MAX-STREAMS 7)150 612 R 6(*E)144 624 S
(nd of definitions)162 624 Q F0(Sample)108 640.8 Q/F2 10/Times-Italic@0 SF
(\214le pr)2.5 E(ocessing exit \214le:)-.37 E F1 6(#F)144 657.6 S
(ILE-EXIT.CF -- File disposition/processing exit file)162 657.6 Q 6(#R)144
681.6 S(ule for spool disposition path, defines also system default)162 681.6 Q
6(#u)144 693.6 S(ser spool directory for those who don't have specially set)162
693.6 Q 6(#s)144 705.6 S(omething else.)162 705.6 Q 6(#P)144 717.6 S 6
(ossibilities: ~/bitspool --)162 717.6 R
(real user's only! \(~/ == users home\))6 E 102(#/)144 729.6 S
(usr/path/path/ -- append 'touser' as subdir,)258 729.6 Q F0(2)535 768 Q EP
%%Page: 3 3
BP/F0 10/Times-Roman@0 SF(FUNET)72 48 Q(-NJE on UNIX\(8\))-.92 E(FUNET)436.5 48
Q(-NJE on UNIX\(8\))-.92 E/F1 10/Courier@0 SF 222(#i)144 84 S 6(ti)378 84 S 6
(ss)396 84 S(pool dir.)414 84 Q 216(#V)144 96 S(alid for Exits and real users.)
372 96 Q 102(#/)144 108 S 6(usr/path/path --)258 108 R(explicite directory.)6 E
102(#/)144 120 S 36(dev/null --)258 120 R(explicite file \(special case\).)6 E
42(#W)144 132 S(hen directory isn't present, it is built from upmost present)
198 132 Q 42(#l)144 144 S(evel down to users bottommost level hmm...)198 144 Q
6(#Q)144 156 S(uestion about ownership of directory/files...)162 156 Q 18(#R)
144 168 S(eal users:)174 168 Q
(real protections, programs start with setuid\(\) user.)246 168 Q 18(#E)144 180
S(xit users:)174 180 Q 6(POSTMAST \(exits)246 180 R(start as root anyway.\))6 E
18(#E)144 192 S
(xited reals: real protections, programs start with setuid\(\) user.)174 192 Q
30(Spool-Dir: /usr/spool/bitspool/)144 216 R 12
(Postmast-Dir: /usr/spool/bitspool/POSTMAST)144 228 R 6(#N)144 252 S
(ow list of things to match and then what to do)162 252 Q 6(#T)144 264 S 6(od)
162 264 S 6(ok)180 264 S 36(eywords: DISCARD)198 264 R(to /dev/null.)342 264 Q
138(#K)144 276 S 24(EEP just)294 276 R 6(so. Into)6 F(default)6 E 192(#d)144
288 S(irectory, or given spool.)348 288 Q 138(#N)144 300 S 12(OTIFY KEEP,)294
300 R(and send a NJE message)6 E 192(#t)144 312 S 6(os)348 312 S(omebody.)366
312 Q 138(#R)144 324 S 30(UN starts)294 324 R(arbitary program with)6 E 192(#a)
144 336 S(rbitary arguments telling)348 336 Q 192(#a)144 348 S
(bout file location and its)348 348 Q 192(#p)144 360 S(roperties.)348 360 Q 192
(#I)144 372 S 6(ff)348 372 S(ails, well..)366 372 Q(#)144 384 Q 6(#D)144 396 S
6(efining SpoolDir must)162 396 R(be done with explicite trailing "/":)6 E 54
(#/)144 408 S(usr/spool/bitnet/SYSIN-JOB/)210 408 Q 6(#E)144 432 S
(xit table begin keyword:)162 432 Q(Exit-Table:)144 444 Q 6(#A)144 468 S(rgs:)
162 468 Q 6(#\()144 480 S
(Note: folding is for document only, real input must be wide.)162 480 Q 48(#C)
144 492 S(ontinuation lines are prefixed with `+'.\))204 492 Q 6(#t)144 504 S
(ouser8 tonode8 fname8)162 504 Q 6(ftype8 pun?)306 504 R(class fruser8)6 E
(frnode8 \\)474 504 Q 78(+d)144 516 S 24(ist8 SpoolDir)234 516 R 18(action \\)
462 516 R 24(+E)144 528 S(xtraArgument)180 528 Q 6(#\()144 540 S(Entry on)162
540 Q 6(PUN? can)222 540 R(be one of:)6 E(*, PUN, PRT, SYSIN\))354 540 Q 6(#\()
144 552 S(Entry on)162 552 Q
(EXTRAARGUMENT can be program path arguments for the)222 552 Q 12(#R)144 564 S
6(UN commands. For)168 564 R(TRANSFER it is the target address.)6 E(See)510 564
Q 12(#f)144 576 S
(unetnje\(8\) man page for documentation about macro expansion.\))168 576 Q(#)
144 588 Q 48(****S)144 600 S(YSIN *)366 600 Q 48(**)420 600 S(\\)522 600 Q 78
(+*)144 612 S(/usr/spool/bitnet/SYSIN-JOB/ RUN)288 612 Q(\\)522 612 Q 24(+/)144
624 S(usr/local/lib/huji/sysin $SPOOL)180 624 Q 30(MEA FINFILES)144 636 R 48
(***)6 G 30(*H)384 636 S 30(KS SEARN)426 636 R(\\)522 636 Q 78(+*)144 648 S 126
(default DISCARD)288 648 R 30(MEA FINFILES)144 660 R 48(***)6 G -18 30(** S)384
660 T 12(EARN \\)480 660 R 78(+*)144 672 S 126(default RUN)288 672 R(\\)522 672
Q 24(+/)144 684 S(usr/local/lib/huji/transfer MEA@FIRIEN $SPOOL)180 684 Q 12
(MAILER FINFILES)144 696 R 48(**P)6 G(UN M)366 696 Q 48(**)420 696 S(\\)522 696
Q 78(+*)144 708 S 126(default RUN)288 708 R(\\)522 708 Q 24(+/)144 720 S
(usr/local/lib/huji/mailify $SPOOL)180 720 Q F0(3)535 768 Q EP
%%Page: 4 4
BP/F0 10/Times-Roman@0 SF(FUNET)72 48 Q(-NJE on UNIX\(8\))-.92 E(FUNET)436.5 48
Q(-NJE on UNIX\(8\))-.92 E/F1 10/Courier@0 SF 12(NOBODY FINFILES)144 84 R 48
(***)6 G -18 30(** *)384 84 T(\\)522 84 Q 78(+*)144 96 S 126(default DISCARD)
288 96 R 6(#FOOBAT FINFILES)144 108 R 48(***)6 G -18 30(** *)384 108 T(\\)522
108 Q 78(+*)144 120 S 126(default RUN)288 120 R(\\)522 120 Q 24(+/)144 132 S
(usr/local/lib/huji/transfer touser@whatnode $SPOOL)180 132 Q(#)144 144 Q 6(#N)
144 156 S(ETINIT is pseudo id for automatically re-generating routing tables)
162 156 Q 6(#T)144 168 S(his is done with cron-driven)162 168 Q 6
(netinit.sh which)342 168 R(must be configured)6 E 6(#b)144 180 S 6(yh)162 180
S(and.)180 180 Q(#)144 192 Q 6(NETINIT FINFILES)144 204 R 48(***)6 G -18 30
(** *)384 204 T(\\)522 204 Q 78(+*)144 216 S 126(default KEEP)288 216 R 48
(*****)144 228 S -18 30(** *)384 228 T(\\)522 228 Q 78(+*)144 240 S 126
(default KEEP)288 240 R F0(Sample)108 256.8 Q/F2 10/Times-Italic@0 SF
(message pr)2.5 E(ocessing exit \214le:)-.37 E F1(#)144 273.6 Q 6(#S)144 285.6
S(ome first ideas about patterns, et.al.:)162 285.6 Q(#)144 297.6 Q 6(#A)144
309.6 S 6(ctions: CMD:)162 309.6 R(BUILTIN, RUN)6 E 66(#M)144 321.6 S
(SG: BRCAST, DISCARD, RUN, PIPE)222 321.6 Q(#)144 333.6 Q
(CmdHelpFile: /usr/local/lib/huji/cmd-help.txt)144 357.6 Q(#$TOUSER $TONODE)144
381.6 Q 6($FRUSER $FRNODE C)252 381.6 R 6(pattern ACTION)6 F(args)6 E 48(.F)144
393.6 S(INFILES *)204 393.6 Q 48(*C)306 393.6 S 6("H*ELP" BUILTIN)372 393.6 R
(HELP)6 E 48(.F)144 405.6 S(INFILES *)204 405.6 Q 48(*C)306 405.6 S
("FINGER *" RUN)372 405.6 Q(\\)486 405.6 Q 6(+/)144 417.6 S
(usr/local/lib/huji/nje-finger $FRUSER $FRNODE $TEXT)162 417.6 Q(#)144 429.6 Q
(#$TOUSER $TONODE)144 441.6 Q 6($FRUSER $FRNODE M)252 441.6 R(ACTION args)6 E
102(#")144 453.6 S(." == FRUSER is blank)258 453.6 Q 12(MAILER *)144 465.6 R 48
(**M)252 465.6 S(DISCARD)378 465.6 Q(MAILSERV FINFILES .)144 477.6 Q 48(*M)306
477.6 S(DISCARD)378 477.6 Q(MAILSERV FINFILES *)144 489.6 Q 48(*M)306 489.6 S
84(RUN \\)378 489.6 R 6(+/)144 501.6 S
(usr/local/lib/mailserver/nje-msg $FRUSER $FRNODE $TEXT)162 501.6 Q 24
(ECHO FINFILES)144 513.6 R 48(.*M)6 G(DISCARD)378 513.6 Q 24(ECHO FINFILES)144
525.6 R 48(**M)6 G 84(RUN \\)378 525.6 R 6(+/)144 537.6 S
(usr/local/bin/send -u echo $FRUSER@$FRNODE *Got Message: $TEXT)162 537.6 Q(#)
144 549.6 Q 6(#T)144 561.6 S(he default)162 561.6 Q 48(****M)144 573.6 S
(BRCAST)378 573.6 Q/F3 9/Times-Bold@0 SF(MACROES ON FILE-EXIT CONFIGURA)72
595.2 Q(TION)-.666 E F0
(On overall, following macro identi\214ers can be placed on the ar)108 607.2 Q
(gument string.)-.18 E/F4 10/Times-Bold@0 SF($SPOOL)108 624 Q F0 .095
(When no ar)216 624 R .095
(gument string is de\214ned, this defaults as the only ar)-.18 F 2.595
(gument. If)-.18 F .095(this is)2.595 F(not de\214ned in the ar)216 636 Q
(gument string, it defaults to be the)-.18 E F4(last)2.5 E F0(one.)2.5 E F4($$)
108 652.8 Q F0(Expands to decimal process-id string, like in:)216 652.8 Q
("/tmp/temp$$\214le")5 E F4($FID)108 669.6 Q F0
(The original spoolid on form of a string of 4 digits: 0001 \255 9900)216 669.6
Q F4($T)108 686.4 Q(OUSER)-.18 E F0(Destination user name.)216 686.4 Q F4($T)
108 703.2 Q(ONODE)-.18 E F0(Destination node name.)216 703.2 Q(4)535 768 Q EP
%%Page: 5 5
BP/F0 10/Times-Roman@0 SF(FUNET)72 48 Q(-NJE on UNIX\(8\))-.92 E(FUNET)436.5 48
Q(-NJE on UNIX\(8\))-.92 E/F1 10/Times-Bold@0 SF($FNAME)108 84 Q F0
(RSCS \214le name.)216 84 Q F1($FTYPE)108 100.8 Q F0(RSCS \214le extension.)216
100.8 Q F1($CLASS)108 117.6 Q F0(Spool \214le class)216 117.6 Q F1($FRUSER)108
134.4 Q F0(Originating user name.)216 134.4 Q F1($FRNODE)108 151.2 Q F0
(Originating node name.)216 151.2 Q F1($SPTYPE)108 168 Q F0
(Spool \214le type, one of:)216 168 Q F1(PUNCH)2.5 E F0(,)A F1(PRINT)2.5 E F0
(,)A F1(SYSIN)2.5 E F0(.)A F1($T)108 184.8 Q(AG)-.74 E F0(The RSCS tag.)216
184.8 Q(Often 0-size string..)5 E F1($DIST)108 201.6 Q F0
(Possibly de\214ned RSCS DIST data.)216 201.6 Q F1($DEST)108 218.4 Q F0
(Possibly de\214ned RSCS DEST data.)216 218.4 Q F1(\(Not implemented yet!\))5 E
F0(Ar)108 235.2 Q .21(gument string chopping is done before macro expansion.)
-.18 F .21(Thus if a macro expression expands to a string)5.21 F
(with blanks in it, the resulting ar)108 247.2 Q
(gument segment will then contain those blanks.)-.18 E/F2 9/Times-Bold@0 SF
(FILES)72 268.8 Q F0(There are two hardwired \214les which control the behavio\
ur of the rest of the system:)108 280.8 Q F1(/etc/funetnje.pid)108 297.6 Q F0
(The "pid \214le" giving easy pointer to the running program.)180 309.6 Q F1
(/etc/funetnje.cf)108 326.4 Q F0(The con\214guration \214le described above.)
8.41 E(Rest of these are con\214gured in the above-mentioned \214le, or in its\
 exit extensions.)108 343.2 Q F1(/usr/spool/bitnet)108 360 Q F0(Con\214gured)
180 372 Q/F3 9/Times-Roman@0 SF(`QUEUE')2.515 E F0 .016
(directory of transport routing.)2.265 F .016
(Protection 2770 \(or only mildly more)5.016 F .032
(open\) Group must be the same as set-gid programs of FUNET)180 384 R .031
(-NJE have for accessing the)-.92 F(intermodule communication channel.)180 396
Q .774(This directory gets also \214le `)180 408 R F1(.socket.key)A F0 .774
(', which contains the security code for all com-)B
(munications via `CMDMAILBOX' channel.)180 420 Q(Another \214le that goes into\
 there is a database \214le containing system spoolids.)180 432 Q 4.893(An)
182.5 444 S 2.393(umber in range 1 to 9900, inclusive.)199.613 444 R 2.392
(File `)7.392 F F1(.spoolid.htdb)A F0 4.892('c)C 2.392(ontains a)457.816 444 R
/F4 10/Times-Italic@0 SF(HeapT)4.892 E -.37(re)-.55 G(e).37 E F0 1.269(databas\
e which is essentially an array implementation of \(partially\) ordered tree, \
using)180 456 R .93(userids as keys, and spoolids as data.)180 468 R .929
(Content of data on that database is machine spe-)5.929 F 2.5(ci\214c, but)180
480 R(on the other hand, nobody is supposed to need to share them...)2.5 E F1
(/usr/spool/bitnet/.cmdpipe)108 496.8 Q F0(Con\214gured)180 508.8 Q F3
(`CMDMAILBOX')2.965 E F0 .466(of FUNET)2.715 F .466
(-NJE intermodule communication channel FIFO.)-.92 F .089(Protected 660, and i\
n principle those who need to communicate via it must to so either by)180 520.8
R(being superusers, using setgid programs, or having the groupid that the)180
532.8 Q F3(`QUEUE')2.5 E F0(has.)2.25 E F1(/usr/spool/bitnet/.spoolid)108 549.6
Q F0 3.735(As)180 561.6 S 1.236
(pecial \214le saving last used outbound spoolid in binary format.)194.845
561.6 R -.35(Tr)6.236 G 1.236(ansporter internal).35 F(usage.)180 573.6 Q 1.39
(Recipient spool directories have also these)180 597.6 R F1(.spoolid)3.89 E F0
1.39(\214les, and their function is similar;)3.89 F(keep status log.)180 609.6
Q F1(/usr/spool/bitspool/)108 626.4 Q F0 .125
(Con\214gured \(via exit \214les\))180 638.4 R F3(`Spool-Dir:')2.625 E F0 .125
(under which local recipients will get their own sub-)2.375 F 2.5
(directories.. Directory)180 650.4 R(protection to be 1)2.5 E .74 -.37(11 o)
-.37 H 2.5(rs).37 G(omewhat more open \(like 555.\))369.78 650.4 Q F2(SEE ALSO)
72 667.2 Q F1(send)108 679.2 Q F0(\(1\),)A F1(send\214le)4.064 E F0(\(1\),)A F1
(bmail)4.064 E F0(\(8\),)A F1(bitspool)4.064 E F0(\(5\),)A F1(ebcdictbl)4.063 E
F0(\(5\),)A F1(mailify)4.063 E F0(\(8\),)A F1(sysin)4.063 E F0(\(8\),)A F1
(qrdr)4.063 E F0(\(8\),)A F1(rdrlist)4.063 E F0(\(8\),)A F1(njer)4.063 E(-)-.37
E(outes)108 691.2 Q F0(\(8\),)A F1 -.18(re)2.5 G(ceive).18 E F0(\(1\),)A F1
(ucp)2.5 E F0(\(8\),)A F1(ygone)2.5 E F0(\(1\),)A F1(transfer)2.5 E F0(\(1\))A
(5)535 768 Q EP
%%Page: 6 6
BP/F0 10/Times-Roman@0 SF(FUNET)72 48 Q(-NJE on UNIX\(8\))-.92 E(FUNET)436.5 48
Q(-NJE on UNIX\(8\))-.92 E/F1 9/Times-Bold@0 SF(BUGS)72 84 Q F0
(Some of then, see)108 96 Q 2.5(BUGS.FUNET for)5 F 2.5(al)2.5 G
(ist of open issues.)274.37 96 Q F1(DIAGNOSTICS)72 117.6 Q F0(Plenty)108 129.6
Q 5.817(,o)-.65 G 3.317(btainable into con\214gurable \214le, example gives)
146.227 129.6 R/F2 10/Courier@0 SF(LOG)5.817 E F0 3.317(\214le value)5.817 F F2
(/usr/adm/bitnet.log)5.817 E F0(.)A 1.642(Amount of log is controllable with)
108 141.6 R F2(LLEVEL)4.141 E F0 1.641
(in the con\214guration \214le, startup time)4.141 F/F3 10/Times-Italic@0 SF
(loglevel)4.141 E F0 1.641(option, and)4.141 F/F4 10/Times-Bold@0 SF(ucp)108
153.6 Q F0(\(8\) `)A F2("LOGLEVEL nn")A F0 2.5('c)C(ontrol commands.)229.32
153.6 Q F1 -.999(WA)72 170.4 S(RNING).999 E F0 1.286
(Updating routing tables \(see)108 182.4 R F4(njer)3.786 E(outes)-.18 E F0
1.286(\(8\)\) without proper care \(shutdown of server\), may cause routing)B
(data corruption, and/or crash of the router)108 194.4 Q 5(.V)-.55 G
(ery least the new routes will not get proper attention.)287.96 194.4 Q F1
(NOTES)72 211.2 Q F0(The following signals have the speci\214ed ef)108 223.2 Q
(fect when sent to the server process using the)-.18 E F4(kill)2.5 E F0
(\(1\) command.)A F1(SIGHUP)108 240 Q F0 .755
(Causes server to reread con\214guration \214le \(usually)144 252 R F3
(/etc/funetnje.cf)3.735 E F0 3.255(\)a)1.87 G .754(nd exits speci\214ed in it.)
423.17 252 R(This)5.754 E(does)144 264 Q F4(not)2.5 E F0
(reinitiate link-setups/tear old ones down.)2.5 E
(Use only for re-reading in the exits.)5 E
(This will also close, and reopen routes database.)108 280.8 Q F1(SIGTERM)108
297.6 Q F0 1.513
(Causes server to dump statistics counters to log \214le, and to do shutdown.)
144 309.6 R 1.513(\(Compare with)6.513 F F3(ucp)4.013 E(shut)144 321.6 Q F0
(.\))A F1(SIGUSR1)108 338.4 Q F0(Dumps statistics counters to log \214le.)144
350.4 Q(FUNET')108 367.2 Q 3.195(sU)-.55 G .695(NIX-version is somewhat dif)
157.305 367.2 R .695(ferent from the HUJI')-.18 F 3.195(sV)-.55 G .695
(MS version, when it comes to handling)378.89 367.2 R
(of \214les destined to local channel, as well as when sending something out.)
108 379.2 Q(HUJI')108 396 Q 3.19(sv)-.55 G .69(ersion opens)144.52 396 R/F5 9
/Times-Roman@0 SF(NETDA)3.19 E -.72(TA)-.999 G F0 .691
(encodings \(if present\), and usually translates \214le contents to)3.661 F F5
(ASCII)3.191 E F0(\(class)2.941 E 3.894(Nn)108 408 S 1.394
(etdata is not translated, assuming it to be binary\).)124.114 408 R 1.393
(Also handling of \214le conversion to mail is done)6.393 F
(inside the transport system.)108 420 Q(FUNET')108 436.8 Q 4.127(ss)-.55 G
1.628(tyle is to let user and user programs to handle all such details, and ju\
st to provide the raw)154.907 436.8 R 2.577(data\214le to them.)108 448.8 R
2.576(Also there the user \(or his programs\) must create the spool-\214les co\
ntaining)7.577 F F5(RSCS)5.076 E(PUNCH/PRINT)108 460.8 Q F0(line images.)2.25 E
(See)5 E F4(bitspool)2.5 E F0(\(5\),)A F4(bmail)2.5 E F0(\(8\),)A F4
(send\214le)2.5 E F0(\(1\).)A F1(AUTHORS)72 477.6 Q F0 -1(Ye)108 489.6 S
(havi Bourvine, Hebrew University of Y)1 E(erusalem, Israel)-1 E F3
(<yehavi@hujivms.bitnet>.)2.5 E F0 4.499
(Matti Aarnio, Finnish University and Research Network \255 FUNET)108 506.4 R
6.999(,F)-.74 G(inland)426.421 506.4 Q F3(<mea@nic.funet.\214>)6.999 E
(<mea@\214n\214les.bitnet>.)108 518.4 Q F0(Gerald Hanusch, Johannes Kepler Uni\
versitaet/Universitaet Linz, Austria <k000165@alijku1)108 535.2 Q(1.bitnet>.)
-.37 E 1.114(Original \(VMS oriented package\) software by Y)108 552 R 1.113
(ehavi Bourvine, UNIX features, plenty of modi\214cations,)-1 F .464
(\214le handling exits, man-pages by Matti Aarnio.)108 564 R .465
(Batch \(SYSIN\) facilities, and bug \214xes prompted by Ger)5.465 F(-)-.2 E
(ald Hanusch, and in lar)108 576 Q(ge part implemented by Matti Aarnio.)-.18 E
(6)535 768 Q EP
%%Trailer
end
